#!/bin/bash
. "./share/myPics_incoming/CycleTraffic.conf"
FILE=$1

CYAN='\033[0;36m'
PURPLE='\033[0;35m'
NC='\033[0m'

if [ -e $path_incoming/$FILE ]
then
{
    cp $path_incoming/$FILE $path_cg_datasets/testA
    mv $path_incoming/$FILE $path_cg_datasets/testB

    cd $GANDIR

    if [ ! -z "$COMMAND_A" ]
    then
    {
    echo "${PURPLE}EXECUTING COMMAND A = $COMMAND_A${NC}"
    eval "$COMMAND_A"
    cp $GANDIR/results/style_cezanne_pretrained/latest_test/images/fake_B/*.png $BASEDIR/share/internal_exchange/testA/
    cp $GANDIR/results/style_cezanne_pretrained/latest_test/images/fake_B/*.png $BASEDIR/share/internal_exchange/testB/
    }
    fi

    if [ ! -z "$COMMAND_B" ]
    then
    {
    echo "${PURPLE}EXECUTING COMMAND B = $COMMAND_B${NC}"
    eval "$COMMAND_B"
    }
    fi

    if [ ! -z "$COMMAND_C" ]
    then
    {
    echo "${PURPLE}EXECUTING COMMAND C = $COMMAND_C${NC}"
    eval "$COMMAND_C"
    }
    fi

    if [ ! -z "$COMMAND_D" ]
    then
    {
    echo "${PURPLE}EXECUTING COMMAND D = $COMMAND_D${NC}"
    eval "$COMMAND_D" 
    }
    fi

    if [ ! -z "$COMMAND_E" ]
    then
    {
    echo "${PURPLE}EXECUTING COMMAND E = $COMMAND_E${NC}"
    eval "$COMMAND_E"
    }
    fi

    if [ ! -z "$COMMAND_F" ]
    then
    {
    echo "${PURPLE}EXECUTING COMMAND F = $COMMAND_F${NC}"
    eval "$COMMAND_F"
    }
    fi

    cp $GANDIR/results/style_cezanne_pretrained/latest_test/images/fake_B/*.png $path_outgoing/

    #rm -rf $path_cg_datasets/$FILE
}
fi
